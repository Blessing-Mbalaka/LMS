 {% extends "core/base.html" %}
{% load static %}

{% block content %}
 <div class="container mt-5"> -->
  <h2>Table Extractor – All Types</h2>

  <form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="mb-3">
      <label for="paper" class="form-label">Upload .docx Paper</label>
      <input type="file" class="form-control" id="paper" name="paper">
    </div>
    <button type="submit" class="btn btn-primary">Extract Tables</button>
  </form>

  <hr>

  {% if tables.match_tables %}
    <h4 class="mt-4">Match Column A ↔ B Tables</h4>
    {% for table in tables.match_tables %}
      <table class="table table-bordered mt-2">
        <thead><tr>
          {% for cell in table.header %}<th>{{ cell }}</th>{% endfor %}
        </tr></thead>
        <tbody>
          {% for row in table.rows %}
            <tr>{% for cell in row %}<td>{{ cell }}</td>{% endfor %}</tr>
          {% endfor %}
        </tbody>
      </table>
    {% endfor %}
  {% endif %}

  {% if tables.mcq_tables %}
    <h4 class="mt-4">Multiple Choice Tables</h4>
    {% for table in tables.mcq_tables %}
      <table class="table table-bordered mt-2">
        <thead><tr>
          {% for cell in table.header %}<th>{{ cell }}</th>{% endfor %}
        </tr></thead>
        <tbody>
          {% for row in table.rows %}
            <tr>{% for cell in row %}<td>{{ cell }}</td>{% endfor %}</tr>
          {% endfor %}
        </tbody>
      </table>
    {% endfor %}
  {% endif %}

  {% if tables.generic_tables %}
    <h4 class="mt-4">Other Tables</h4>
    {% for table in tables.generic_tables %}
      <table class="table table-striped mt-2">
        <thead><tr>
          {% for cell in table.header %}<th>{{ cell }}</th>{% endfor %}
        </tr></thead>
        <tbody>
          {% for row in table.rows %}
            <tr>{% for cell in row %}<td>{{ cell }}</td>{% endfor %}</tr>
          {% endfor %}
        </tbody>
      </table>
    {% endfor %}
  {% endif %}
</div>
{% endblock %} 
